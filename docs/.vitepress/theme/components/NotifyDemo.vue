<template>
    <div style="padding: 16px">
        <h3>ğŸ”” Local Notification Demo</h3>
        <button @click="requestPermission">Request Permission</button>
        <button @click="sendNotification">Send Notification</button>
    </div>
</template>

<script setup lang="ts">
import { LocalNotifications } from '@capacitor/local-notifications';

async function requestPermission() {
    const result = await LocalNotifications.requestPermissions();
    console.log('Permission result:', result);
    alert('Permission: ' + result.display);
}

async function sendNotification() {
    await LocalNotifications.schedule({
        notifications: [
            {
                title: 'Hello from VitePress!',
                body: 'This is a local notification from your app ğŸš€',
                id: Date.now(),
                schedule: { at: new Date(Date.now() + 2000) }, // å»¶è¿Ÿ2ç§’å‘é€
                sound: undefined,
                smallIcon: 'ic_launcher', // é»˜è®¤å›¾æ ‡
            },
        ],
    });
    alert('Notification scheduled!');
}
</script>
