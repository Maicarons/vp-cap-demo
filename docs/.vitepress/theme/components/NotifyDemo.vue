<template>
    <div style="text-align: center; padding: 20px;">
        <h3>ğŸ”” Local Notification Demo</h3>
        <PrimaryButton @click="requestPermission">Request Permission</PrimaryButton>
        <PrimaryButton @click="sendNotification">Send Notification</PrimaryButton>
    </div>
</template>

<script setup lang="ts">
import { LocalNotifications } from '@capacitor/local-notifications';

async function requestPermission() {
    const result = await LocalNotifications.requestPermissions();
    console.log('Permission result:', result);
    alert('Permission: ' + result.display);
}

async function sendNotification() {
    await LocalNotifications.schedule({
        notifications: [
            {
                title: 'Hello from VitePress!',
                body: 'This is a local notification from your app ğŸš€',
                id: Date.now(),
                schedule: { at: new Date(Date.now() + 2000) }, // å»¶è¿Ÿ2ç§’å‘é€
                sound: undefined,
                smallIcon: 'ic_launcher', // é»˜è®¤å›¾æ ‡
            },
        ],
    });
    alert('Notification scheduled!');
}
</script>
